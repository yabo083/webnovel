# 小说写作系统使用说明

## 快速启动

### Windows用户
双击运行 `start.bat` 文件，系统会自动安装依赖并启动服务。

### 手动启动
1. 打开命令行/终端
2. 进入项目目录
3. 执行以下命令：
   ```bash
   # 安装依赖
   npm install
   cd server && npm install
   cd ../client && npm install
   cd ..
   
   # 启动服务（需要两个终端窗口）
   # 终端1：启动后端
   cd server
   npm run dev
   
   # 终端2：启动前端
   cd client
   npm run dev
   ```

## 访问地址
- 前端界面：http://localhost:5173
- 后端API：http://localhost:3000

## 功能演示

### 1. 用户注册/登录
- 打开浏览器访问 http://localhost:5173
- 首次使用点击"立即注册"创建账号
- 已有账号直接登录

### 2. 创建小说
- 登录后进入"我的书架"
- 点击"创建新书"按钮
- 填写小说标题、简介、分类
- 点击"创建"完成

### 3. 添加章节
- 在书架中点击小说封面进入目录页
- 点击"新建章节"按钮
- 输入章节标题
- 点击"创建"进入编辑器

### 4. 写作体验
- **实时字数统计**：编辑器右上角显示当前字数
- **自动保存**：每2秒自动保存内容，防止丢失
- **手动保存**：点击"保存"按钮或使用 Ctrl+S
- **发布章节**：点击"发布"将章节状态设为"已发布"

### 5. 核心特性
- ✅ **防丢失**：自动保存 + 离开确认
- ✅ **字数统计**：准确的中文字数计算
- ✅ **快捷操作**：Ctrl+S 保存快捷键
- ✅ **移动适配**：支持手机端写作
- ✅ **状态管理**：草稿/已发布状态

## 系统架构

### 前端技术栈
- Vue 3 + Vite
- Element Plus UI组件
- Vue Router 路由管理
- Pinia 状态管理
- Axios HTTP客户端

### 后端技术栈
- Node.js + Express
- SQLite 数据库
- Sequelize ORM
- JWT 身份验证
- bcryptjs 密码加密

### 数据存储
系统使用SQLite数据库，数据文件位于 `server/database.sqlite`

## 常见问题

### Q: 如何备份我的作品？
A: 数据存储在 `server/database.sqlite` 文件中，备份此文件即可。

### Q: 可以切换到MySQL数据库吗？
A: 可以，修改 `server/models/index.js` 中的数据库配置即可。

### Q: 支持导出功能吗？
A: 当前版本专注核心写作功能，后续版本会考虑添加导出功能。

### Q: 为什么自动保存有延迟？
A: 采用2秒防抖机制，避免频繁保存影响性能。

### Q: 支持多人协作吗？
A: 当前版本为单用户系统，每个账号管理自己的作品。

## 开发扩展

### 添加新功能
1. 后端：在 `server/routes/` 添加新的API路由
2. 前端：在 `client/src/views/` 添加新页面
3. 数据库：在 `server/models/` 定义新的数据模型

### 自定义主题
修改 `client/src/style.css` 中的CSS变量即可自定义界面主题。

### 部署到服务器
1. 构建前端：`cd client && npm run build`
2. 配置生产环境数据库
3. 使用PM2等工具启动Node.js服务

## 技术支持

如遇到问题，请检查：
1. Node.js版本是否 >= 16.0.0
2. 端口3000和5173是否被占用
3. 依赖包是否完整安装

## 更新日志

### v1.0.0
- ✅ 基础用户系统
- ✅ 小说和章节管理
- ✅ 专业写作编辑器
- ✅ 自动保存功能
- ✅ 响应式设计 